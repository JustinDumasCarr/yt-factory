You are working in a local-first Python CLI project called yt-factory.

Primary goals:
- Simple, boring code that is easy to debug in Cursor.
- Step-based pipeline: new, plan, generate, render, upload.
- File-based state. project.json is the single source of truth.
- Every step writes a dedicated log file under projects/<id>/logs/.
- Failures must be visible. Persist stack traces and provider raw errors.

Hard constraints:
- Do not introduce a database in v1.
- Do not introduce Docker as a requirement for local development.
- Do not build a web UI in v1.
- No hidden state. All important state must be stored in project.json.

Code structure rules:
- Keep modules small. One file per step.
- Providers are isolated. Do not mix provider logic into rendering or uploading.
- Use typed config objects. Validate project.json before running a step.
- Keep external API calls in one place. No scattered HTTP calls.

Debugging rules:
- If anything fails, write a clear error to project.json.status.last_error.
- Also write full traceback to the step log.
- Prefer explicit exceptions over silent failures.

Context7 MCP usage:
- Before implementing any API integration, use Context7 to fetch the latest official docs and confirm endpoint paths, required headers, auth, and payload formats.
- When uncertain about an API detail, do not guess. Query Context7 and cite it in code comments.

Output requirements:
- Rendering uses FFmpeg locally.
- Final outputs: final.mp4, chapters.txt, youtube_description.txt.

Future proofing:
- Use interfaces for LLMProvider, MusicProvider, UploadProvider, StorageAdapter.
- StorageAdapter must default to local filesystem. S3 support is optional later.

Sprint completion:
- After completing each sprint, update docs/ROADMAP.md to mark completed milestones/items.
- Update docs/TASKS.md to mark completed task items.
- Keep roadmap and tasks in sync with actual implementation status.
